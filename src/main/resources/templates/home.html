<!DOCTYPE html>
<html lang="pt">

    <head>
        <title>Home</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" th:href="@{/css/estilo.css}">
    </head>

    <body>
        <header class="header-home">
            <h1>Perdidos & Achados</h1>
            <a id="triggerModal" style="font-size: larger; padding: 7px 13px;">+</a>
            <a th:href="@{/home}" style="border-bottom: 3px solid red">Home</a>

            <div th:if="${nomeUsuario}">
                <a th:href="@{/perfil}" th:text="${nomeUsuario}">Entrar</a>
                <form action="/logout" method="post" style="display: inline">
                    <input type="hidden" name="_csrf" th:value="${_csrf.token}">
                    <button type="submit" class="logout-btt">Sair</button>
                </form>
            </div>
            <div th:unless="${nomeUsuario}">
                <a th:href="@{/login}">Entrar</a>
            </div>

        </header>

        <form action="" method="post">
            <div class="search-bar">
                <input type="text" placeholder="Buscar por nome, tipo de documento, data..." aria-label="Search" />
                <input type="submit" value="Buscar" />
            </div>
            <div class="filters">
                <input type="text" name="tipoDocumento" placeholder="Tipo de Documento/Objecto" />

                <input type="date" name="dataEncontrado" placeholder="Data encontrado" />
                <input type="text" name="localEncontrado" placeholder="Local encontrado" />
            </div>
        </form>

        <div id="myModal" class="modal">
            <!-- Modal Cadastro content -->
            <div class="modal-content">
                <span class="close">&times;</span>
                <h3>Cadastre o Documento/Objecto Encontrado</h3>

                <form action="" method="post">
                    <p>Carregar Foto <input type="file" /></p>

                    <label for="nomeProprietario">Tipo do Documento/Objecto</label><br>
                    <input type="text" id="nomeProprietario" name="nomeProprietario"
                        placeholder="Ex.: Cartão de Estudante, Passaporte, Carteira, BI..."
                        class="form-login-fields" /><br>

                    <label for="nomeProp">Nome do Proprietário do Documento/Objecto</label><br>
                    <input type="text" id="nomeProp" name="nomeProprietario" placeholder="Nome do Proprietário"
                        class="form-login-fields" /><br>

                    <label for="dataEncontrado">Data Encontrado</label><br>
                    <input type="date" id="dataEncontrado" name="dataEncontrado" class="form-login-fields" /><br>

                    <label for="localEncontrado">Local onde foi Encontrado</label><br>
                    <input type="text" id="localEncontrado" name="localEncontrado" placeholder="Local onde achou o documento"
                        class="form-login-fields" /><br>

                    <label for="descricao">** Faça uma descrição sobre o Documento/Objecto, fornecendo mais
                        detalhes
                        úteis (máx. 200 caracteres)</label>
                    <textarea id="descricao" name="descricao" maxlength="200" required></textarea>

                    <input type="submit" value="Cadastrar" class="generic-btt" />
                </form>
            </div>
        </div>

        <div id="myModal2" class="modal">
            <!-- Modal Detalhes content -->
            <div class="modal-content">
                <span class="close close2">&times;</span>
                <div style="display: flex; justify-content: space-around; flex-wrap: wrap;">
                    <div style="width: 400px;">
                        <h3>Informações do Objecto</h3>

                        <p><strong>Tipo:</strong> Carteira</p>

                        <p><strong>Nome do Proprietário:</strong> Lula Molusco</p>

                        <p><strong>Data Encontrado:</strong> 28/10/2024</p>

                        <p><strong>Local Encontrado:</strong> Praça da Alimentação</p>

                        <p><strong>Descrição:</strong> Encontrei esta carteira no banco cor de rosa na rua da figueira
                            do palmeirence junto do poste azul na feira do mamanguape</p><br>
                    </div>
                    <div>
                        <h3>Informações do Usuário</h3>
                        <img th:src="@{/images/user.png}" alt="foto do usuario" width="150px" height="150px">
                        <p><strong>Nome:</strong> Josualdo</p>
                        <p><strong>Email:</strong> josualdo@gmail.com</p>
                        <p><strong>Telefone:</strong> 935639093</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="document-grid">
            <div class="document-card">
                <img src="" alt="" class="img-document">
                <h3>Carteira de Estudante</h3>
                <p>Dono: João da Silva</p>
                <p>Encontrado em: Biblioteca</p>
                <p>Data: 10/10/2024</p>
                <button id="detalhes">Ver detalhes</button>
            </div>
            <div class="document-card">
                <img src="" alt="" class="img-document">
                <h3>RG</h3>
                <p>Dono: Maria Souza</p>
                <p>Encontrado em: Corredor Bloco A</p>
                <p>Data: 08/10/2024</p>
                <button>Ver detalhes</button>
            </div>
            <div class="document-card">
                <img src="" alt="" class="img-document">
                <h3>RG</h3>
                <p>Dono: Maria Souza</p>
                <p>Encontrado em: Corredor Bloco A</p>
                <p>Data: 08/10/2024</p>
                <button>Ver detalhes</button>
            </div>
            <div class="document-card">
                <img src="" alt="" class="img-document">
                <h3>RG</h3>
                <p>Dono: Maria Souza</p>
                <p>Encontrado em: Corredor Bloco A</p>
                <p>Data: 08/10/2024</p>
                <button>Ver detalhes</button>
            </div>
            <div class="document-card">
                <img src="" alt="" class="img-document">
                <h3>RG</h3>
                <p>Dono: Maria Souza</p>
                <p>Encontrado em: Corredor Bloco A</p>
                <p>Data: 08/10/2024</p>
                <button>Ver detalhes</button>
            </div>
        </div>

        <button onclick="topFunction()" id="btt-back-top" title="Go to top">Top</button>

        <script>
            // Get the modal
            var modal = document.getElementById("myModal");
            var modal2 = document.getElementById("myModal2");

            // Get the button that opens the modal
            var btn = document.getElementById("triggerModal");
            var btn2 = document.getElementById("detalhes");

            // Get the <span> element that closes the modal
            var span = document.getElementsByClassName("close")[0];
            var span2 = document.getElementsByClassName("close2")[0];

            // When the user clicks the button, open the modal 
            btn.onclick = function () {
                modal.style.display = "block";
            }

            btn2.onclick = function () {
                modal2.style.display = "block";
            }

            // When the user clicks on <span> (x), close the modal
            span.onclick = function () {
                modal.style.display = "none";
            }

            span2.onclick = function () {
                modal2.style.display = "none";
            }

            // When the user clicks anywhere outside of the modal, close it
            window.onclick = function (event) {
                if (event.target == modal) {
                    modal.style.display = "none";
                }
            }

            // Get the button
            let mybutton = document.getElementById("btt-back-top");

            // When the user scrolls down 20px from the top of the document, show the button
            window.onscroll = function () { scrollFunction() };

            function scrollFunction() {
                if (document.body.scrollTop > 250 || document.documentElement.scrollTop > 250) {
                    mybutton.style.display = "block";
                } else {
                    mybutton.style.display = "none";
                }
            }

            // When the user clicks on the button, scroll to the top of the document
            function topFunction() {
                document.body.scrollTop = 0;
                document.documentElement.scrollTop = 0;
            }
        </script>
    </body>

</html>